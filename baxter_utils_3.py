"""baxterロボットの色々関数とクラス
・順運動学写像，ヤコビ行列など
・無印よりちょっと速い
"""

import numpy as np
from math import cos, sin, tan, pi, sqrt


class BaxterKinematics3:
    """ローカル座標系の原点，ヤコビ行列等を計算
    ・ちょっとはやい
    """
    
    # def __init__(self, L, h, H, L0, L1, L2, L3, L4, L5, L6):
    #     self.L = L
    #     self.h = h
    #     self.H = H
    #     self.L0 = L0
    #     self.L1 = L1
    #     self.L2 = L2
    #     self.L3 = L3
    #     self.L4 = L4
    #     self.L5 = L5
    #     self.L6 = L6
        
    def __init__(self, **kwargs):
        """こっちが速い（なんでだろ）"""
        self.L = kwargs.pop('L')
        self.h = kwargs.pop('h')
        self.H = kwargs.pop('H')
        self.L0 = kwargs.pop('L0')
        self.L1 = kwargs.pop('L1')
        self.L2 = kwargs.pop('L2')
        self.L3 = kwargs.pop('L3')
        self.L4 = kwargs.pop('L4')
        self.L5 = kwargs.pop('L5')
        self.L6 = kwargs.pop('L6')
    
    def origins(self, q):
        """世界座標系から見た局所座標系の原点座標をまとめて計算"""
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        o_Wo = np.array([[0],
                         [0],
                         [0]])
        
        o_BL = np.array([[self.L],
                         [-self.h],
                         [self.H]])
        
        o_0 = np.array([[self.L],
                        [-self.h],
                        [self.H + self.L0]])
        
        o_1 = np.array([[self.L],
                        [-self.h],
                        [self.H + self.L0]])
        
        o_2 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1)],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) - self.h],
                        [self.H + self.L0]])
        
        o_3 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2)],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2)]])
        
        o_4 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2) - self.L3*cos(q2)*cos(q3)]])
        
        o_5 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) + 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2) - self.L3*cos(q2)*cos(q3) - self.L4*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))]])
        
        o_6 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) + 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5)) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2) - self.L3*cos(q2)*cos(q3) - self.L4*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3)) + self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2))]])

        o_7 = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) + 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5)) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2) - self.L3*cos(q2)*cos(q3) - self.L4*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3)) + self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2))]])

        o_GL = np.array([[self.L + 0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5)) + self.L6*(0.707106781186548*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*sin(q6) + 0.707106781186548*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))*sin(q6) + 0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) + cos(q1)*cos(q2)*cos(q4))*cos(q6) + 0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4))*cos(q6))],
                        [0.707106781186548*self.L1*sin(q1) - 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1)) + 0.707106781186548*self.L4*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5)) + self.L6*(-0.707106781186548*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*sin(q6) + 0.707106781186548*(((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))*sin(q6) - 0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) + cos(q1)*cos(q2)*cos(q4))*cos(q6) + 0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4))*cos(q6)) - self.h],
                        [self.H + self.L0 - self.L2*sin(q2) - self.L3*cos(q2)*cos(q3) - self.L4*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3)) + self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2)) + self.L6*(((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2))*sin(q6) + (-sin(q2)*cos(q4) - sin(q4)*cos(q2)*cos(q3))*cos(q6))]])
        
        return [o_Wo, o_BL, o_0, o_1, o_2, o_3, o_4, o_5, o_6, o_7, o_GL]
    
    # ヤコビ行列
    def jacobi_Wo(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def jacobi_BL(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def jacobi_0(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def jacobi_1(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def jacobi_2(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1), 0, 0, 0, 0, 0, 0], 
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1), 0, 0, 0, 0, 0, 0], 
                      [0, 0, 0, 0, 0, 0, 0]])
        return z
    
    def jacobi_3(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1), 0, 0, 0, 0, 0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1), 0, 0, 0, 0, 0],
                      [0, -self.L2*cos(q2), 0, 0, 0, 0, 0]])
        return z
    
    def jacobi_4(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3), 0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)), 0, 0, 0, 0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) - 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3), -0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)), 0, 0, 0, 0],
                      [0, -self.L2*cos(q2) + self.L3*sin(q2)*cos(q3), self.L3*sin(q3)*cos(q2), 0, 0, 0, 0]])
        return z

    def jacobi_5(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) - 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)), 0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) - 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4), -0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)), 0, 0, 0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) - 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) + 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)), -0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) + 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4), 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)), 0, 0, 0],
                      [0, -self.L2*cos(q2) + self.L3*sin(q2)*cos(q3) - self.L4*(-sin(q2)*sin(q4)*cos(q3) + cos(q2)*cos(q4)), self.L3*sin(q3)*cos(q2) + self.L4*sin(q3)*sin(q4)*cos(q2), -self.L4*(-sin(q2)*sin(q4) + cos(q2)*cos(q3)*cos(q4)), 0, 0, 0]])
        return z

    def jacobi_6(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) - 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) + 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)), 0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) - 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)), -0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5), 0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)), 0, 0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) - 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) - 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) + 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) - 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)), -0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) + 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) - 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)), 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) - 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5), -0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)), 0, 0],
                      [0,
                       -self.L2*cos(q2) + self.L3*sin(q2)*cos(q3) - self.L4*(-sin(q2)*sin(q4)*cos(q3) + cos(q2)*cos(q4)) + self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*cos(q5) - sin(q2)*sin(q3)*sin(q5)), self.L3*sin(q3)*cos(q2) + self.L4*sin(q3)*sin(q4)*cos(q2) + self.L5*(sin(q3)*cos(q2)*cos(q4)*cos(q5) + sin(q5)*cos(q2)*cos(q3)), -self.L4*(-sin(q2)*sin(q4) + cos(q2)*cos(q3)*cos(q4)) + self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*cos(q5), self.L5*(-(sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*sin(q5) + sin(q3)*cos(q2)*cos(q5)), 0, 0]])
        return z

    def jacobi_7(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) - 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) + 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)), 0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) - 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)), -0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5), 0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)), 0, 0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) - 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) - 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) + 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) - 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)), -0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) + 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) - 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)), 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) - 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5), -0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)), 0, 0],
                      [0, -self.L2*cos(q2) + self.L3*sin(q2)*cos(q3) - self.L4*(-sin(q2)*sin(q4)*cos(q3) + cos(q2)*cos(q4)) + self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*cos(q5) - sin(q2)*sin(q3)*sin(q5)), self.L3*sin(q3)*cos(q2) + self.L4*sin(q3)*sin(q4)*cos(q2) + self.L5*(sin(q3)*cos(q2)*cos(q4)*cos(q5) + sin(q5)*cos(q2)*cos(q3)), -self.L4*(-sin(q2)*sin(q4) + cos(q2)*cos(q3)*cos(q4)) + self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*cos(q5), self.L5*(-(sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*sin(q5) + sin(q3)*cos(q2)*cos(q5)), 0, 0]])
        return z
    
    def jacobi_GL(self, q):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        z = np.array([[-0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) - 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) + 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)) + self.L6*((0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*sin(q6) + (0.707106781186548*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + 0.707106781186548*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5))*sin(q6) + (0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*cos(q1)*cos(q2)*cos(q4))*cos(q6) + (0.707106781186548*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*sin(q1)*cos(q2)*cos(q4))*cos(q6)), -0.707106781186548*self.L2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) - 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) + 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)) + self.L6*((0.707106781186548*(sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + 0.707106781186548*sin(q1)*sin(q3)*sin(q5)*cos(q2))*sin(q6) + (0.707106781186548*(sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + 0.707106781186548*sin(q3)*sin(q5)*cos(q1)*cos(q2))*sin(q6) + (-0.707106781186548*sin(q1)*sin(q2)*cos(q4) - 0.707106781186548*sin(q1)*sin(q4)*cos(q2)*cos(q3))*cos(q6) + (-0.707106781186548*sin(q2)*cos(q1)*cos(q4) - 0.707106781186548*sin(q4)*cos(q1)*cos(q2)*cos(q3))*cos(q6)), 0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) - 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)) + self.L6*((0.707106781186548*(sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5))*sin(q6) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q4)*cos(q6) + (0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + 0.707106781186548*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5))*sin(q6) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q4)*cos(q6)), -0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5) + self.L6*(0.707106781186548*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*sin(q6)*cos(q5) + (0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - 0.707106781186548*sin(q4)*cos(q1)*cos(q2))*cos(q6) + 0.707106781186548*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*sin(q6)*cos(q5) + (0.707106781186548*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - 0.707106781186548*sin(q1)*sin(q4)*cos(q2))*cos(q6)), 0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)) + self.L6*((-0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5))*sin(q6) + (-0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5))*sin(q6)), self.L6*((0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*cos(q6) + (0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))*cos(q6) - (0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*cos(q1)*cos(q2)*cos(q4))*sin(q6) - (0.707106781186548*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + 0.707106781186548*sin(q1)*cos(q2)*cos(q4))*sin(q6)),
                       0],
                      [0.707106781186548*self.L1*sin(q1) + 0.707106781186548*self.L1*cos(q1) + 0.707106781186548*self.L2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3)) - 0.707106781186548*self.L3*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1)) - 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L4*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + sin(q1)*cos(q2)*cos(q4)) + 0.707106781186548*self.L5*(((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5)) - 0.707106781186548*self.L5*(((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) + (-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5)) + self.L6*((0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) + 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*sin(q6) + (-0.707106781186548*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2))*cos(q5) - 0.707106781186548*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q5))*sin(q6) + (0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) + 0.707106781186548*cos(q1)*cos(q2)*cos(q4))*cos(q6) + (-0.707106781186548*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q4) + 0.707106781186548*sin(q1)*cos(q2)*cos(q4))*cos(q6)), -0.707106781186548*self.L2*sin(q1)*sin(q2) + 0.707106781186548*self.L2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*sin(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*cos(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L4*(sin(q1)*sin(q2)*cos(q4) + sin(q1)*sin(q4)*cos(q2)*cos(q3)) + 0.707106781186548*self.L4*(sin(q2)*cos(q1)*cos(q4) + sin(q4)*cos(q1)*cos(q2)*cos(q3)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q1)*sin(q3)*sin(q5)*cos(q2)) - 0.707106781186548*self.L5*((sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q1)*cos(q2)) + self.L6*((0.707106781186548*(sin(q1)*sin(q2)*sin(q4) - sin(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) + 0.707106781186548*sin(q1)*sin(q3)*sin(q5)*cos(q2))*sin(q6) + (-0.707106781186548*(sin(q2)*sin(q4)*cos(q1) - cos(q1)*cos(q2)*cos(q3)*cos(q4))*cos(q5) - 0.707106781186548*sin(q3)*sin(q5)*cos(q1)*cos(q2))*sin(q6) + (-0.707106781186548*sin(q1)*sin(q2)*cos(q4) - 0.707106781186548*sin(q1)*sin(q4)*cos(q2)*cos(q3))*cos(q6) + (0.707106781186548*sin(q2)*cos(q1)*cos(q4) + 0.707106781186548*sin(q4)*cos(q1)*cos(q2)*cos(q3))*cos(q6)), -0.707106781186548*self.L3*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3)) + 0.707106781186548*self.L4*(sin(q1)*cos(q3) - sin(q2)*sin(q3)*cos(q1))*sin(q4) - 0.707106781186548*self.L4*(-sin(q1)*sin(q2)*sin(q3) - cos(q1)*cos(q3))*sin(q4) - 0.707106781186548*self.L5*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5)) + 0.707106781186548*self.L5*((sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + (sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5)) + self.L6*((-0.707106781186548*(sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*sin(q5) - 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q4)*cos(q5))*sin(q6) - 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q4)*cos(q6) + (0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q4)*cos(q5) + 0.707106781186548*(sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*sin(q5))*sin(q6) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q4)*cos(q6)), 0.707106781186548*self.L4*((sin(q1)*sin(q3) + sin(q2)*cos(q1)*cos(q3))*cos(q4) + sin(q4)*cos(q1)*cos(q2)) - 0.707106781186548*self.L4*((sin(q1)*sin(q2)*cos(q3) - sin(q3)*cos(q1))*cos(q4) + sin(q1)*sin(q4)*cos(q2)) - 0.707106781186548*self.L5*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*cos(q5) + 0.707106781186548*self.L5*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*cos(q5) + self.L6*(-0.707106781186548*(-(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - cos(q1)*cos(q2)*cos(q4))*sin(q6)*cos(q5) + (-0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) + 0.707106781186548*sin(q4)*cos(q1)*cos(q2))*cos(q6) + 0.707106781186548*(-(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) - sin(q1)*cos(q2)*cos(q4))*sin(q6)*cos(q5) + (0.707106781186548*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - 0.707106781186548*sin(q1)*sin(q4)*cos(q2))*cos(q6)), -0.707106781186548*self.L5*(-((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) + (-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5)) + 0.707106781186548*self.L5*(-((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + (sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5)) + self.L6*((0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*sin(q5) - 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*cos(q5))*sin(q6) + (-0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*sin(q5) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*cos(q5))*sin(q6)), self.L6*((-0.707106781186548*((-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*cos(q4) - sin(q4)*cos(q1)*cos(q2))*cos(q5) - 0.707106781186548*(-sin(q1)*cos(q3) + sin(q2)*sin(q3)*cos(q1))*sin(q5))*cos(q6) + (0.707106781186548*((-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*cos(q4) - sin(q1)*sin(q4)*cos(q2))*cos(q5) + 0.707106781186548*(sin(q1)*sin(q2)*sin(q3) + cos(q1)*cos(q3))*sin(q5))*cos(q6) - (-0.707106781186548*(-sin(q1)*sin(q3) - sin(q2)*cos(q1)*cos(q3))*sin(q4) - 0.707106781186548*cos(q1)*cos(q2)*cos(q4))*sin(q6) - (0.707106781186548*(-sin(q1)*sin(q2)*cos(q3) + sin(q3)*cos(q1))*sin(q4) + 0.707106781186548*sin(q1)*cos(q2)*cos(q4))*sin(q6)), 0],
                      [0,
                       -self.L2*cos(q2) + self.L3*sin(q2)*cos(q3) - self.L4*(-sin(q2)*sin(q4)*cos(q3) + cos(q2)*cos(q4)) + self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*cos(q5) - sin(q2)*sin(q3)*sin(q5)) + self.L6*(((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*cos(q5) - sin(q2)*sin(q3)*sin(q5))*sin(q6) + (sin(q2)*sin(q4)*cos(q3) - cos(q2)*cos(q4))*cos(q6)), self.L3*sin(q3)*cos(q2) + self.L4*sin(q3)*sin(q4)*cos(q2) + self.L5*(sin(q3)*cos(q2)*cos(q4)*cos(q5) + sin(q5)*cos(q2)*cos(q3)) + self.L6*((sin(q3)*cos(q2)*cos(q4)*cos(q5) + sin(q5)*cos(q2)*cos(q3))*sin(q6) + sin(q3)*sin(q4)*cos(q2)*cos(q6)), -self.L4*(-sin(q2)*sin(q4) + cos(q2)*cos(q3)*cos(q4)) + self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*cos(q5) + self.L6*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q6) + (sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*sin(q6)*cos(q5)), self.L5*(-(sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*sin(q5) + sin(q3)*cos(q2)*cos(q5)) + self.L6*(-(sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*sin(q5) + sin(q3)*cos(q2)*cos(q5))*sin(q6), self.L6*(((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2))*cos(q6) - (-sin(q2)*cos(q4) - sin(q4)*cos(q2)*cos(q3))*sin(q6)), 0]])
        return z
    
    def jacobi_all(self, q):
        """ヤコビ行列を全部計算する
        ・
        """
        jWo = self.jacobi_Wo(q)
        jBL = self.jacobi_BL(q)
        j0 = self.jacobi_0(q)
        j1 = self.jacobi_1(q)
        j2 = self.jacobi_2(q)
        j3 = self.jacobi_3(q)
        j4 = self.jacobi_4(q)
        j5 = self.jacobi_5(q)
        j6 = self.jacobi_6(q)
        j7 = self.jacobi_7(q)
        jGL = self.jacobi_GL(q)
        return [jWo, jBL, j0, j1, j2, j3, j4, j5, j6, j7, jGL]
    
    # ヤコビ行列の時間微分
    def djacobi_Wo(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def djacobi_BL(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_0(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_1(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_2(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[-0.707106781186548*self.L1*dq1*sin(q1) - 0.707106781186548*self.L1*dq1*cos(q1), 0, 0, 0, 0, 0, 0],
                      [-0.707106781186548*self.L1*dq1*sin(q1) + 0.707106781186548*self.L1*dq1*cos(q1), 0, 0, 0, 0, 0, 0],
                      [0, 0, 0, 0, 0, 0, 0]])
        return z
        
    def djacobi_3(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[-0.707106781186548*self.L1*dq1*sin(q1) - 0.707106781186548*self.L1*dq1*cos(q1) - 0.707106781186548*self.L2*dq1*sin(q1)*cos(q2) - 0.707106781186548*self.L2*dq1*cos(q1)*cos(q2) + 0.707106781186548*self.L2*dq2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq2*sin(q2)*cos(q1), 0.707106781186548*self.L2*dq1*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq1*sin(q2)*cos(q1) - 0.707106781186548*self.L2*dq2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*dq2*cos(q1)*cos(q2), 0, 0, 0, 0, 0],
                      [-0.707106781186548*self.L1*dq1*sin(q1) + 0.707106781186548*self.L1*dq1*cos(q1) - 0.707106781186548*self.L2*dq1*sin(q1)*cos(q2) + 0.707106781186548*self.L2*dq1*cos(q1)*cos(q2) - 0.707106781186548*self.L2*dq2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq2*sin(q2)*cos(q1), -0.707106781186548*self.L2*dq1*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq1*sin(q2)*cos(q1) - 0.707106781186548*self.L2*dq2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*dq2*cos(q1)*cos(q2), 0, 0, 0, 0, 0],
                      [0, self.L2*dq2*sin(q2), 0, 0, 0, 0, 0]])
        return z
        
    def djacobi_4(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[-0.707106781186548*self.L1*dq1*sin(q1) - 0.707106781186548*self.L1*dq1*cos(q1) - 0.707106781186548*self.L2*dq1*sin(q1)*cos(q2) - 0.707106781186548*self.L2*dq1*cos(q1)*cos(q2) + 0.707106781186548*self.L2*dq2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq2*sin(q2)*cos(q1) + 0.707106781186548*self.L3*(dq1*sin(q1)*sin(q3) + dq1*sin(q2)*cos(q1)*cos(q3) + dq2*sin(q1)*cos(q2)*cos(q3) - dq3*sin(q1)*sin(q2)*sin(q3) - dq3*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(dq1*sin(q1)*sin(q2)*cos(q3) - dq1*sin(q3)*cos(q1) - dq2*cos(q1)*cos(q2)*cos(q3) - dq3*sin(q1)*cos(q3) + dq3*sin(q2)*sin(q3)*cos(q1)), 0.707106781186548*self.L2*dq1*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq1*sin(q2)*cos(q1) - 0.707106781186548*self.L2*dq2*sin(q1)*cos(q2) - 0.707106781186548*self.L2*dq2*cos(q1)*cos(q2) + 0.707106781186548*self.L3*dq1*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*dq1*cos(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*dq2*sin(q1)*sin(q2)*cos(q3) + 0.707106781186548*self.L3*dq2*sin(q2)*cos(q1)*cos(q3) + 0.707106781186548*self.L3*dq3*sin(q1)*sin(q3)*cos(q2) + 0.707106781186548*self.L3*dq3*sin(q3)*cos(q1)*cos(q2), 0.707106781186548*self.L3*(-dq1*sin(q1)*cos(q3) + dq1*sin(q2)*sin(q3)*cos(q1) + dq2*sin(q1)*sin(q3)*cos(q2) + dq3*sin(q1)*sin(q2)*cos(q3) - dq3*sin(q3)*cos(q1)) + 0.707106781186548*self.L3*(-dq1*sin(q1)*sin(q2)*sin(q3) - dq1*cos(q1)*cos(q3) + dq2*sin(q3)*cos(q1)*cos(q2) + dq3*sin(q1)*sin(q3) + dq3*sin(q2)*cos(q1)*cos(q3)),
                       0,
                       0,
                       0,
                       0],
                      [-0.707106781186548*self.L1*dq1*sin(q1) + 0.707106781186548*self.L1*dq1*cos(q1) - 0.707106781186548*self.L2*dq1*sin(q1)*cos(q2) + 0.707106781186548*self.L2*dq1*cos(q1)*cos(q2) - 0.707106781186548*self.L2*dq2*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq2*sin(q2)*cos(q1) - 0.707106781186548*self.L3*(dq1*sin(q1)*sin(q3) + dq1*sin(q2)*cos(q1)*cos(q3) + dq2*sin(q1)*cos(q2)*cos(q3) - dq3*sin(q1)*sin(q2)*sin(q3) - dq3*cos(q1)*cos(q3)) + 0.707106781186548*self.L3*(dq1*sin(q1)*sin(q2)*cos(q3) - dq1*sin(q3)*cos(q1) - dq2*cos(q1)*cos(q2)*cos(q3) - dq3*sin(q1)*cos(q3) + dq3*sin(q2)*sin(q3)*cos(q1)), -0.707106781186548*self.L2*dq1*sin(q1)*sin(q2) - 0.707106781186548*self.L2*dq1*sin(q2)*cos(q1) - 0.707106781186548*self.L2*dq2*sin(q1)*cos(q2) + 0.707106781186548*self.L2*dq2*cos(q1)*cos(q2) - 0.707106781186548*self.L3*dq1*sin(q1)*cos(q2)*cos(q3) - 0.707106781186548*self.L3*dq1*cos(q1)*cos(q2)*cos(q3) + 0.707106781186548*self.L3*dq2*sin(q1)*sin(q2)*cos(q3) - 0.707106781186548*self.L3*dq2*sin(q2)*cos(q1)*cos(q3) + 0.707106781186548*self.L3*dq3*sin(q1)*sin(q3)*cos(q2) - 0.707106781186548*self.L3*dq3*sin(q3)*cos(q1)*cos(q2), 0.707106781186548*self.L3*(-dq1*sin(q1)*cos(q3) + dq1*sin(q2)*sin(q3)*cos(q1) + dq2*sin(q1)*sin(q3)*cos(q2) + dq3*sin(q1)*sin(q2)*cos(q3) - dq3*sin(q3)*cos(q1)) - 0.707106781186548*self.L3*(-dq1*sin(q1)*sin(q2)*sin(q3) - dq1*cos(q1)*cos(q3) + dq2*sin(q3)*cos(q1)*cos(q2) + dq3*sin(q1)*sin(q3) + dq3*sin(q2)*cos(q1)*cos(q3)), 0, 0, 0, 0],
                      [0,
                       self.L2*dq2*sin(q2) + self.L3*dq2*cos(q2)*cos(q3) - self.L3*dq3*sin(q2)*sin(q3), -self.L3*dq2*sin(q2)*sin(q3) + self.L3*dq3*cos(q2)*cos(q3), 0, 0, 0, 0]])
        return z
        
    def djacobi_5(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[0.707106781186548*sqrt(2)*(-self.L1*dq1*sin(q1 + pi/4) - self.L2*dq1*sin(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q2)*cos(q1 + pi/4) + self.L3*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq1*sin(q3)*cos(q1 + pi/4) - self.L3*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq3*sin(q1 + pi/4)*cos(q3) + self.L3*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L4*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)), 0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q2)*cos(q1 + pi/4) - self.L2*dq2*sin(q1 + pi/4)*cos(q2) - self.L3*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L3*dq1*sin(q1 + pi/4)*cos(q3) + self.L3*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L3*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq1*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq4*cos(q1 + pi/4)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*self.L4*(-dq1*sin(q1 + pi/4)*sin(q3)*cos(q4) - dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - dq1*sin(q4)*cos(q1 + pi/4)*cos(q2) + dq2*sin(q1 + pi/4)*sin(q2)*sin(q4) - dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + dq3*cos(q1 + pi/4)*cos(q3)*cos(q4) + dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - dq4*sin(q1 + pi/4)*cos(q2)*cos(q4) - dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)),
                       0,
                       0,
                       0],
                      [0.707106781186548*sqrt(2)*(self.L1*dq1*cos(q1 + pi/4) + self.L2*dq1*cos(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q1 + pi/4)*sin(q2) - self.L3*dq1*sin(q1 + pi/4)*sin(q3) - self.L3*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq3*cos(q1 + pi/4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q1 + pi/4)*sin(q2) + self.L2*dq2*cos(q1 + pi/4)*cos(q2) - self.L3*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(self.L3*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq1*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L3*dq3*sin(q1 + pi/4)*sin(q3) - self.L3*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq2*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq3*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)),
                       0.707106781186548*sqrt(2)*self.L4*(-dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - dq1*sin(q1 + pi/4)*sin(q4)*cos(q2) + dq1*sin(q3)*cos(q1 + pi/4)*cos(q4) - dq2*sin(q2)*sin(q4)*cos(q1 + pi/4) + dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q1 + pi/4)*cos(q3)*cos(q4) - dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) - dq4*sin(q1 + pi/4)*sin(q3)*sin(q4) - dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)),
                       0,
                       0,
                       0],
                      [0,
                       self.L2*dq2*sin(q2) + self.L3*dq2*cos(q2)*cos(q3) - self.L3*dq3*sin(q2)*sin(q3) + self.L4*(dq2*sin(q2)*cos(q4) + dq2*sin(q4)*cos(q2)*cos(q3) - dq3*sin(q2)*sin(q3)*sin(q4) + dq4*sin(q2)*cos(q3)*cos(q4) + dq4*sin(q4)*cos(q2)),
                       -self.L3*dq2*sin(q2)*sin(q3) + self.L3*dq3*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q2)*cos(q3) + self.L4*dq4*sin(q3)*cos(q2)*cos(q4),
                       self.L4*(dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3)),
                       0,
                       0,
                       0]])
        return z
        
    def djacobi_6(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[0.707106781186548*sqrt(2)*(-self.L1*dq1*sin(q1 + pi/4) - self.L2*dq1*sin(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q2)*cos(q1 + pi/4) + self.L3*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq1*sin(q3)*cos(q1 + pi/4) - self.L3*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq3*sin(q1 + pi/4)*cos(q3) + self.L3*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L4*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq1*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq2*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - self.L5*dq5*sin(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq5*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q2)*cos(q1 + pi/4) - self.L2*dq2*sin(q1 + pi/4)*cos(q2) - self.L3*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L3*dq1*sin(q1 + pi/4)*cos(q3) + self.L3*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L3*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq1*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq4*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + self.L5*dq5*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4)),
                       0.707106781186548*sqrt(2)*self.L5*(dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - dq1*sin(q1 + pi/4)*cos(q3)*cos(q5) + dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + dq1*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2) - dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4) - dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - dq3*sin(q3)*cos(q1 + pi/4)*cos(q5) - dq3*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) - dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + dq4*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + dq4*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4) - dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + dq5*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - dq5*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - dq5*sin(q5)*cos(q1 + pi/4)*cos(q3)),
                       0,
                       0],
                      [0.707106781186548*sqrt(2)*(self.L1*dq1*cos(q1 + pi/4) + self.L2*dq1*cos(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q1 + pi/4)*sin(q2) - self.L3*dq1*sin(q1 + pi/4)*sin(q3) - self.L3*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq3*cos(q1 + pi/4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L5*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq1*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq3*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - self.L5*dq5*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + self.L5*dq5*cos(q1 + pi/4)*cos(q3)*cos(q5)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q1 + pi/4)*sin(q2) + self.L2*dq2*cos(q1 + pi/4)*cos(q2) - self.L3*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(self.L3*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq1*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L3*dq3*sin(q1 + pi/4)*sin(q3) - self.L3*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq2*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq3*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq1*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - self.L5*dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4)),
                       0.707106781186548*sqrt(2)*self.L5*(dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + dq1*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + dq1*cos(q1 + pi/4)*cos(q3)*cos(q5) + dq2*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) - dq3*sin(q1 + pi/4)*sin(q3)*cos(q5) - dq3*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5) + dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + dq4*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - dq4*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4) - dq5*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - dq5*sin(q1 + pi/4)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - dq5*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5)),
                       0,
                       0],
                      [0,
                       self.L2*dq2*sin(q2) + self.L3*dq2*cos(q2)*cos(q3) - self.L3*dq3*sin(q2)*sin(q3) + self.L4*(dq2*sin(q2)*cos(q4) + dq2*sin(q4)*cos(q2)*cos(q3) - dq3*sin(q2)*sin(q3)*sin(q4) + dq4*sin(q2)*cos(q3)*cos(q4) + dq4*sin(q4)*cos(q2)) - self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*dq5*sin(q5) + (dq2*sin(q2)*sin(q4) - dq2*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*cos(q4) + dq4*sin(q2)*sin(q4)*cos(q3) - dq4*cos(q2)*cos(q4))*cos(q5) + dq2*sin(q3)*sin(q5)*cos(q2) + dq3*sin(q2)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*cos(q5)),
                       -self.L3*dq2*sin(q2)*sin(q3) + self.L3*dq3*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q2)*cos(q3) + self.L4*dq4*sin(q3)*cos(q2)*cos(q4) - self.L5*(dq2*sin(q2)*sin(q3)*cos(q4)*cos(q5) + dq2*sin(q2)*sin(q5)*cos(q3) + dq3*sin(q3)*sin(q5)*cos(q2) - dq3*cos(q2)*cos(q3)*cos(q4)*cos(q5) + dq4*sin(q3)*sin(q4)*cos(q2)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)*cos(q4) - dq5*cos(q2)*cos(q3)*cos(q5)),
                       self.L4*(dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3)) - self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq5*sin(q5) - self.L5*(dq2*sin(q2)*sin(q4)*cos(q3) - dq2*cos(q2)*cos(q4) + dq3*sin(q3)*sin(q4)*cos(q2) + dq4*sin(q2)*sin(q4) - dq4*cos(q2)*cos(q3)*cos(q4))*cos(q5),
                       -self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq5*cos(q5) + (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*sin(q5) + dq2*sin(q2)*sin(q3)*cos(q5) - dq3*cos(q2)*cos(q3)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)),
                       0,
                       0]])
        return z
        
    def djacobi_7(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[0.707106781186548*sqrt(2)*(-self.L1*dq1*sin(q1 + pi/4) - self.L2*dq1*sin(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q2)*cos(q1 + pi/4) + self.L3*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq1*sin(q3)*cos(q1 + pi/4) - self.L3*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq3*sin(q1 + pi/4)*cos(q3) + self.L3*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L4*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq1*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq2*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - self.L5*dq5*sin(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq5*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q2)*cos(q1 + pi/4) - self.L2*dq2*sin(q1 + pi/4)*cos(q2) - self.L3*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L3*dq1*sin(q1 + pi/4)*cos(q3) + self.L3*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L3*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq1*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq4*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + self.L5*dq5*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4)),
                       0.707106781186548*sqrt(2)*self.L5*(dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - dq1*sin(q1 + pi/4)*cos(q3)*cos(q5) + dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + dq1*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2) - dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4) - dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - dq3*sin(q3)*cos(q1 + pi/4)*cos(q5) - dq3*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) - dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + dq4*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + dq4*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4) - dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + dq5*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - dq5*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - dq5*sin(q5)*cos(q1 + pi/4)*cos(q3)),
                       0,
                       0],
                      [0.707106781186548*sqrt(2)*(self.L1*dq1*cos(q1 + pi/4) + self.L2*dq1*cos(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q1 + pi/4)*sin(q2) - self.L3*dq1*sin(q1 + pi/4)*sin(q3) - self.L3*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq3*cos(q1 + pi/4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L5*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq1*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq3*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - self.L5*dq5*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + self.L5*dq5*cos(q1 + pi/4)*cos(q3)*cos(q5)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q1 + pi/4)*sin(q2) + self.L2*dq2*cos(q1 + pi/4)*cos(q2) - self.L3*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)),
                       0.707106781186548*sqrt(2)*(self.L3*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq1*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L3*dq3*sin(q1 + pi/4)*sin(q3) - self.L3*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq2*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq3*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq1*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - self.L5*dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4)),
                       0.707106781186548*sqrt(2)*self.L5*(dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + dq1*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + dq1*cos(q1 + pi/4)*cos(q3)*cos(q5) + dq2*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) - dq3*sin(q1 + pi/4)*sin(q3)*cos(q5) - dq3*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5) + dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + dq4*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - dq4*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4) - dq5*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - dq5*sin(q1 + pi/4)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - dq5*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5)),
                       0,
                       0],
                      [0,
                       self.L2*dq2*sin(q2) + self.L3*dq2*cos(q2)*cos(q3) - self.L3*dq3*sin(q2)*sin(q3) + self.L4*(dq2*sin(q2)*cos(q4) + dq2*sin(q4)*cos(q2)*cos(q3) - dq3*sin(q2)*sin(q3)*sin(q4) + dq4*sin(q2)*cos(q3)*cos(q4) + dq4*sin(q4)*cos(q2)) - self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*dq5*sin(q5) + (dq2*sin(q2)*sin(q4) - dq2*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*cos(q4) + dq4*sin(q2)*sin(q4)*cos(q3) - dq4*cos(q2)*cos(q4))*cos(q5) + dq2*sin(q3)*sin(q5)*cos(q2) + dq3*sin(q2)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*cos(q5)),
                       -self.L3*dq2*sin(q2)*sin(q3) + self.L3*dq3*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q2)*cos(q3) + self.L4*dq4*sin(q3)*cos(q2)*cos(q4) - self.L5*(dq2*sin(q2)*sin(q3)*cos(q4)*cos(q5) + dq2*sin(q2)*sin(q5)*cos(q3) + dq3*sin(q3)*sin(q5)*cos(q2) - dq3*cos(q2)*cos(q3)*cos(q4)*cos(q5) + dq4*sin(q3)*sin(q4)*cos(q2)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)*cos(q4) - dq5*cos(q2)*cos(q3)*cos(q5)),
                       self.L4*(dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3)) - self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq5*sin(q5) - self.L5*(dq2*sin(q2)*sin(q4)*cos(q3) - dq2*cos(q2)*cos(q4) + dq3*sin(q3)*sin(q4)*cos(q2) + dq4*sin(q2)*sin(q4) - dq4*cos(q2)*cos(q3)*cos(q4))*cos(q5),
                       -self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq5*cos(q5) + (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*sin(q5) + dq2*sin(q2)*sin(q3)*cos(q5) - dq3*cos(q2)*cos(q3)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)),
                       0,
                       0]])
        return z
        
    def djacobi_GL(self, q, dq):
        q1, q2, q3, q4, q5, q6, q7 = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq1, dq2, dq3, dq4, dq5, dq6, dq7 = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([[0.707106781186548*sqrt(2)*(-self.L1*dq1*sin(q1 + pi/4) - self.L2*dq1*sin(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q2)*cos(q1 + pi/4) + self.L3*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq1*sin(q3)*cos(q1 + pi/4) - self.L3*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq3*sin(q1 + pi/4)*cos(q3) + self.L3*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L4*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq1*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq2*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq3*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - self.L5*dq5*sin(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq5*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q6) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq1*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) - self.L6*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) - self.L6*dq1*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq1*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) + self.L6*dq2*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q6) + self.L6*dq2*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2) - self.L6*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q6) - self.L6*dq2*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6) - self.L6*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q6) - self.L6*dq3*sin(q1 + pi/4)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) + self.L6*dq3*sin(q2)*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L6*dq3*sin(q2)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) + self.L6*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q6)*cos(q5) - self.L6*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q6) + self.L6*dq4*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L6*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q6) - self.L6*dq4*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L6*dq5*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6)*cos(q4) - self.L6*dq5*sin(q1 + pi/4)*sin(q6)*cos(q3)*cos(q5) + self.L6*dq5*sin(q2)*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q5) + self.L6*dq5*sin(q2)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L6*dq5*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2) + self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q6) + self.L6*dq6*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q6) + self.L6*dq6*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3) - self.L6*dq6*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5)*cos(q6) - self.L6*dq6*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q2)*cos(q1 + pi/4) - self.L2*dq2*sin(q1 + pi/4)*cos(q2) - self.L3*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4) + self.L6*dq1*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq1*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q6) + self.L6*dq1*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2) - self.L6*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q6) - self.L6*dq1*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq2*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q5) - self.L6*dq2*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) + self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2)*cos(q6) + self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q2)*cos(q4)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q3) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q6) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q4)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q3)*cos(q5) - self.L6*dq4*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*sin(q6) + self.L6*dq5*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q2)*cos(q5) + self.L6*dq5*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q3)*cos(q4) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q4) + self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q3) - self.L6*dq6*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6)),
                       0.707106781186548*sqrt(2)*(-self.L3*dq1*sin(q1 + pi/4)*cos(q3) + self.L3*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4) + self.L3*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q3) + self.L4*dq1*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq4*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq1*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) + self.L6*dq1*sin(q2)*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) + self.L6*dq1*sin(q2)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) + self.L6*dq2*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q2)*cos(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q2)*cos(q4)*cos(q5) + self.L6*dq2*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q3) - self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q6) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) - self.L6*dq3*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq3*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) - self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q6) - self.L6*dq4*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq4*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q4) + self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q5) - self.L6*dq5*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq5*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*sin(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q6) - self.L6*dq6*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q6) - self.L6*dq6*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3) + self.L6*dq6*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4) - self.L4*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2) + self.L4*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4) - self.L4*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4) + self.L4*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L4*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L5*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q5) - self.L5*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + self.L5*dq5*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4) + self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q6)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q6) + self.L6*dq1*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L6*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q6) - self.L6*dq1*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) + self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q4)*cos(q5) + self.L6*dq2*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q3)*cos(q5) - self.L6*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q6) - self.L6*dq3*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q6) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q5) - self.L6*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) - self.L6*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) - self.L6*dq4*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q3) + self.L6*dq5*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q4) + self.L6*dq5*sin(q3)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4) + self.L6*dq6*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2) - self.L6*dq6*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)),
                       0.707106781186548*sqrt(2)*(self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4) - self.L5*dq1*sin(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq1*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5) + self.L5*dq1*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L5*dq1*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2) - self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*cos(q2)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q3)*cos(q4) - self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q4) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*cos(q3) + self.L5*dq4*sin(q1 + pi/4)*sin(q5)*cos(q2)*cos(q4) + self.L5*dq4*sin(q3)*sin(q4)*sin(q5)*cos(q1 + pi/4) - self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q3) + self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6)*cos(q4) - self.L6*dq1*sin(q1 + pi/4)*sin(q6)*cos(q3)*cos(q5) + self.L6*dq1*sin(q2)*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q5) + self.L6*dq1*sin(q2)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) + self.L6*dq1*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2) - self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*sin(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q2)*cos(q5) + self.L6*dq2*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q3)*cos(q4) - self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q4) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q5) - self.L6*dq3*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq3*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q3) + self.L6*dq4*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q2)*cos(q4) + self.L6*dq4*sin(q3)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6) + self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq5*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q5) - self.L6*dq5*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq5*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2)*cos(q6) - self.L6*dq6*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4)*cos(q6) + self.L6*dq6*cos(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6)),
                       0.707106781186548*sqrt(2)*self.L6*(dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q6) - dq1*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5)*cos(q6) - dq1*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q6) + dq1*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q6) + dq1*sin(q2)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3) - dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5)*cos(q6) - dq1*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4) + dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5)*cos(q6) + dq2*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q4) + dq2*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2)*cos(q6) + dq2*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q3) - dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*sin(q6) + dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5)*cos(q6) + dq3*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q6) - dq3*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q6) - dq3*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q3) + dq3*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6) + dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5)*cos(q6) + dq4*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4) + dq4*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2) - dq4*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5)*cos(q6) - dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5)*cos(q6) - dq4*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4) + dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5)*cos(q6) + dq5*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4)*cos(q6) + dq5*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2)*cos(q6) - dq5*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4)*cos(q6) + dq5*cos(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6) - dq6*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*sin(q6) + dq6*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q6) + dq6*sin(q1 + pi/4)*sin(q2)*sin(q6)*cos(q3)*cos(q4)*cos(q5) + dq6*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q2)*cos(q5) - dq6*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) - dq6*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q6) - dq6*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - dq6*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3)),
                       0],
                      [0.707106781186548*sqrt(2)*(self.L1*dq1*cos(q1 + pi/4) + self.L2*dq1*cos(q1 + pi/4)*cos(q2) - self.L2*dq2*sin(q1 + pi/4)*sin(q2) - self.L3*dq1*sin(q1 + pi/4)*sin(q3) - self.L3*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3) + self.L3*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq3*cos(q1 + pi/4)*cos(q3) - self.L4*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) + self.L4*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L5*dq1*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq1*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq1*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq1*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq2*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq2*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq3*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq3*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq3*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq4*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - self.L5*dq5*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + self.L5*dq5*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3) + self.L6*dq1*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq1*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) - self.L6*dq1*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq1*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L6*dq1*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q5) - self.L6*dq2*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q6) + self.L6*dq2*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6)*cos(q2) - self.L6*dq2*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q6) - self.L6*dq2*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q6) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q6)*cos(q4)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*sin(q2)*sin(q5)*sin(q6)*cos(q3) - self.L6*dq3*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) + self.L6*dq3*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) + self.L6*dq3*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q3)*cos(q5) - self.L6*dq4*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq4*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q6) - self.L6*dq4*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q4)*cos(q5) - self.L6*dq4*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) + self.L6*dq4*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q6) + self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q6)*cos(q5) + self.L6*dq5*sin(q1 + pi/4)*sin(q2)*sin(q5)*sin(q6)*cos(q3)*cos(q4) + self.L6*dq5*sin(q1 + pi/4)*sin(q4)*sin(q5)*sin(q6)*cos(q2) - self.L6*dq5*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q4) + self.L6*dq5*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q3) - self.L6*dq6*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5)*cos(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q4) - self.L6*dq6*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4) + self.L6*dq6*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5)*cos(q6) + self.L6*dq6*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q6)),
                       0.707106781186548*sqrt(2)*(-self.L2*dq1*sin(q1 + pi/4)*sin(q2) + self.L2*dq2*cos(q1 + pi/4)*cos(q2) - self.L3*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3) - self.L3*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3) - self.L3*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L4*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q2) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L5*dq2*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq3*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq3*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - self.L5*dq5*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*sin(q2)*cos(q4)*cos(q6) + self.L6*dq1*sin(q1 + pi/4)*sin(q3)*sin(q5)*sin(q6)*cos(q2) - self.L6*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q3)*cos(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q3)*cos(q4)*cos(q5) + self.L6*dq2*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) - self.L6*dq2*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq2*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L6*dq2*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) - self.L6*dq3*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q6) - self.L6*dq3*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L6*dq3*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L6*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q6) - self.L6*dq4*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq4*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) + self.L6*dq4*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q6) + self.L6*dq5*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq5*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L6*dq5*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) - self.L6*dq6*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q4) - self.L6*dq6*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q6) - self.L6*dq6*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3) + self.L6*dq6*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6)), 0.707106781186548*sqrt(2)*(self.L3*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3) + self.L3*dq1*cos(q1 + pi/4)*cos(q3) - self.L3*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2) - self.L3*dq3*sin(q1 + pi/4)*sin(q3) - self.L3*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3) + self.L4*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4) + self.L4*dq1*sin(q4)*cos(q1 + pi/4)*cos(q3) - self.L4*dq2*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2) - self.L4*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq3*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq4*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q4)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3) - self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4) + self.L5*dq1*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - self.L5*dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q4)*cos(q6) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q6)*cos(q4)*cos(q5) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*sin(q6)*cos(q3) - self.L6*dq1*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) + self.L6*dq1*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) + self.L6*dq1*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq2*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q6) - self.L6*dq2*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L6*dq2*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3) - self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q6) - self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4)*cos(q5) - self.L6*dq3*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3) + self.L6*dq3*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq3*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) - self.L6*dq3*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq4*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q3)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) + self.L6*dq4*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq4*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q6) - self.L6*dq5*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q5) - self.L6*dq5*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3)*cos(q4) + self.L6*dq5*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q4) - self.L6*dq5*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) - self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q3) + self.L6*dq6*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6) + self.L6*dq6*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4) - self.L6*dq6*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q6)),
                       0.707106781186548*sqrt(2)*(-self.L4*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4) - self.L4*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2) + self.L4*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4) + self.L4*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) + self.L4*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4) - self.L4*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4) - self.L4*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4) - self.L4*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3) + self.L4*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*cos(q3)*cos(q5) - self.L5*dq1*sin(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5) - self.L5*dq1*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq2*sin(q2)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L5*dq2*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q4)*cos(q3)*cos(q5) + self.L5*dq3*sin(q2)*sin(q3)*sin(q4)*cos(q1 + pi/4)*cos(q5) - self.L5*dq4*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq4*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L5*dq5*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + self.L5*dq5*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq5*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q3)*cos(q5) - self.L6*dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q6) - self.L6*dq1*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q4)*cos(q5) - self.L6*dq1*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) + self.L6*dq1*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q6) - self.L6*dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q6) - self.L6*dq2*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q4)*cos(q5) - self.L6*dq2*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q5) + self.L6*dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq3*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q3)*cos(q5) + self.L6*dq3*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) + self.L6*dq3*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q5) - self.L6*dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q6) - self.L6*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q6) - self.L6*dq4*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4)*cos(q5) - self.L6*dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) - self.L6*dq4*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq4*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L6*dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6) + self.L6*dq5*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5)*sin(q6) + self.L6*dq5*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) - self.L6*dq5*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4) - self.L6*dq6*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6) - self.L6*dq6*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) - self.L6*dq6*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2) + self.L6*dq6*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5)*cos(q6)),
                       0.707106781186548*sqrt(2)*(self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*cos(q5) + self.L5*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq1*sin(q1 + pi/4)*sin(q4)*sin(q5)*cos(q2) - self.L5*dq1*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) + self.L5*dq1*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq2*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4) - self.L5*dq2*sin(q3)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L5*dq2*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) - self.L5*dq3*sin(q1 + pi/4)*sin(q3)*cos(q5) - self.L5*dq3*sin(q1 + pi/4)*sin(q5)*cos(q3)*cos(q4) + self.L5*dq3*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q4) - self.L5*dq3*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L5*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5) + self.L5*dq4*sin(q2)*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q3) - self.L5*dq4*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L5*dq5*sin(q1 + pi/4)*sin(q3)*cos(q4)*cos(q5) - self.L5*dq5*sin(q1 + pi/4)*sin(q5)*cos(q3) + self.L5*dq5*sin(q2)*sin(q3)*sin(q5)*cos(q1 + pi/4) - self.L5*dq5*sin(q2)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L5*dq5*sin(q4)*cos(q1 + pi/4)*cos(q2)*cos(q5) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q6)*cos(q5) + self.L6*dq1*sin(q1 + pi/4)*sin(q2)*sin(q5)*sin(q6)*cos(q3)*cos(q4) + self.L6*dq1*sin(q1 + pi/4)*sin(q4)*sin(q5)*sin(q6)*cos(q2) - self.L6*dq1*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q4) + self.L6*dq1*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq2*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq2*sin(q3)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L6*dq2*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4) - self.L6*dq3*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q5) - self.L6*dq3*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3)*cos(q4) + self.L6*dq3*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q4) - self.L6*dq3*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q5) + self.L6*dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*sin(q5)*sin(q6) + self.L6*dq4*sin(q2)*sin(q4)*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q3) - self.L6*dq4*sin(q5)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q4) - self.L6*dq5*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4)*cos(q5) - self.L6*dq5*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3) + self.L6*dq5*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) - self.L6*dq5*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - self.L6*dq5*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) - self.L6*dq6*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4)*cos(q6) + self.L6*dq6*sin(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6) - self.L6*dq6*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5)*cos(q6) - self.L6*dq6*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) - self.L6*dq6*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q6)),
                       0.707106781186548*sqrt(2)*self.L6*(dq1*sin(q1 + pi/4)*sin(q2)*sin(q3)*sin(q5)*cos(q6) + dq1*sin(q1 + pi/4)*sin(q2)*sin(q4)*sin(q6)*cos(q3) - dq1*sin(q1 + pi/4)*sin(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - dq1*sin(q1 + pi/4)*sin(q4)*cos(q2)*cos(q5)*cos(q6) - dq1*sin(q1 + pi/4)*sin(q6)*cos(q2)*cos(q4) - dq1*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4) + dq1*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5)*cos(q6) + dq1*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q6) - dq2*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q5)*cos(q6) - dq2*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q4) - dq2*sin(q3)*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q6) - dq2*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q3) + dq2*cos(q1 + pi/4)*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - dq3*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q6) - dq3*sin(q1 + pi/4)*sin(q4)*sin(q6)*cos(q3) + dq3*sin(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5)*cos(q6) + dq3*sin(q2)*sin(q3)*sin(q4)*sin(q6)*cos(q1 + pi/4) - dq3*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q4)*cos(q5)*cos(q6) - dq3*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q6) - dq4*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q5)*cos(q6) - dq4*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4) - dq4*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6) - dq4*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4) - dq4*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2) + dq4*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q5)*cos(q6) - dq5*sin(q1 + pi/4)*sin(q3)*sin(q5)*cos(q4)*cos(q6) + dq5*sin(q1 + pi/4)*cos(q3)*cos(q5)*cos(q6) - dq5*sin(q2)*sin(q3)*cos(q1 + pi/4)*cos(q5)*cos(q6) - dq5*sin(q2)*sin(q5)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q6) - dq5*sin(q4)*sin(q5)*cos(q1 + pi/4)*cos(q2)*cos(q6) - dq6*sin(q1 + pi/4)*sin(q3)*sin(q4)*cos(q6) - dq6*sin(q1 + pi/4)*sin(q3)*sin(q6)*cos(q4)*cos(q5) - dq6*sin(q1 + pi/4)*sin(q5)*sin(q6)*cos(q3) + dq6*sin(q2)*sin(q3)*sin(q5)*sin(q6)*cos(q1 + pi/4) - dq6*sin(q2)*sin(q4)*cos(q1 + pi/4)*cos(q3)*cos(q6) - dq6*sin(q2)*sin(q6)*cos(q1 + pi/4)*cos(q3)*cos(q4)*cos(q5) - dq6*sin(q4)*sin(q6)*cos(q1 + pi/4)*cos(q2)*cos(q5) + dq6*cos(q1 + pi/4)*cos(q2)*cos(q4)*cos(q6)), 0],
                      [0,
                       self.L2*dq2*sin(q2) + self.L3*dq2*cos(q2)*cos(q3) - self.L3*dq3*sin(q2)*sin(q3) + self.L4*(dq2*sin(q2)*cos(q4) + dq2*sin(q4)*cos(q2)*cos(q3) - dq3*sin(q2)*sin(q3)*sin(q4) + dq4*sin(q2)*cos(q3)*cos(q4) + dq4*sin(q4)*cos(q2)) - self.L5*((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*dq5*sin(q5) + (dq2*sin(q2)*sin(q4) - dq2*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*cos(q4) + dq4*sin(q2)*sin(q4)*cos(q3) - dq4*cos(q2)*cos(q4))*cos(q5) + dq2*sin(q3)*sin(q5)*cos(q2) + dq3*sin(q2)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*cos(q5)) + self.L6*(((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*cos(q5) - sin(q2)*sin(q3)*sin(q5))*dq6*cos(q6) - (sin(q2)*sin(q4)*cos(q3) - cos(q2)*cos(q4))*dq6*sin(q6) - ((sin(q2)*cos(q3)*cos(q4) + sin(q4)*cos(q2))*dq5*sin(q5) + (dq2*sin(q2)*sin(q4) - dq2*cos(q2)*cos(q3)*cos(q4) + dq3*sin(q2)*sin(q3)*cos(q4) + dq4*sin(q2)*sin(q4)*cos(q3) - dq4*cos(q2)*cos(q4))*cos(q5) + dq2*sin(q3)*sin(q5)*cos(q2) + dq3*sin(q2)*sin(q5)*cos(q3) + dq5*sin(q2)*sin(q3)*cos(q5))*sin(q6) + (dq2*sin(q2)*cos(q4) + dq2*sin(q4)*cos(q2)*cos(q3) - dq3*sin(q2)*sin(q3)*sin(q4) + dq4*sin(q2)*cos(q3)*cos(q4) + dq4*sin(q4)*cos(q2))*cos(q6)),
                       -self.L3*dq2*sin(q2)*sin(q3) + self.L3*dq3*cos(q2)*cos(q3) - self.L4*dq2*sin(q2)*sin(q3)*sin(q4) + self.L4*dq3*sin(q4)*cos(q2)*cos(q3) + self.L4*dq4*sin(q3)*cos(q2)*cos(q4) - self.L5*(dq2*sin(q2)*sin(q3)*cos(q4)*cos(q5) + dq2*sin(q2)*sin(q5)*cos(q3) + dq3*sin(q3)*sin(q5)*cos(q2) - dq3*cos(q2)*cos(q3)*cos(q4)*cos(q5) + dq4*sin(q3)*sin(q4)*cos(q2)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)*cos(q4) - dq5*cos(q2)*cos(q3)*cos(q5)) + self.L6*((sin(q3)*cos(q4)*cos(q5) + sin(q5)*cos(q3))*dq6*cos(q2)*cos(q6) - (dq2*sin(q2)*sin(q3)*cos(q4)*cos(q5) + dq2*sin(q2)*sin(q5)*cos(q3) + dq3*sin(q3)*sin(q5)*cos(q2) - dq3*cos(q2)*cos(q3)*cos(q4)*cos(q5) + dq4*sin(q3)*sin(q4)*cos(q2)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)*cos(q4) - dq5*cos(q2)*cos(q3)*cos(q5))*sin(q6) - dq2*sin(q2)*sin(q3)*sin(q4)*cos(q6) + dq3*sin(q4)*cos(q2)*cos(q3)*cos(q6) + dq4*sin(q3)*cos(q2)*cos(q4)*cos(q6) - dq6*sin(q3)*sin(q4)*sin(q6)*cos(q2)),
                       self.L4*(dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3)) - self.L5*(sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq5*sin(q5) - self.L5*(dq2*sin(q2)*sin(q4)*cos(q3) - dq2*cos(q2)*cos(q4) + dq3*sin(q3)*sin(q4)*cos(q2) + dq4*sin(q2)*sin(q4) - dq4*cos(q2)*cos(q3)*cos(q4))*cos(q5) - self.L6*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq6*sin(q6) + (sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq5*sin(q5)*sin(q6) - (sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq6*cos(q5)*cos(q6) + (dq2*sin(q2)*sin(q4)*cos(q3) - dq2*cos(q2)*cos(q4) + dq3*sin(q3)*sin(q4)*cos(q2) + dq4*sin(q2)*sin(q4) - dq4*cos(q2)*cos(q3)*cos(q4))*sin(q6)*cos(q5) - (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*cos(q6)),
                       -self.L5*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq5*cos(q5) + (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*sin(q5) + dq2*sin(q2)*sin(q3)*cos(q5) - dq3*cos(q2)*cos(q3)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2)) - self.L6*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*sin(q5) - sin(q3)*cos(q2)*cos(q5))*dq6*cos(q6) - self.L6*((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq5*cos(q5) + (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*sin(q5) + dq2*sin(q2)*sin(q3)*cos(q5) - dq3*cos(q2)*cos(q3)*cos(q5) + dq5*sin(q3)*sin(q5)*cos(q2))*sin(q6),
                       -self.L6*(((sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*cos(q5) + sin(q3)*sin(q5)*cos(q2))*dq6*sin(q6) - (sin(q2)*cos(q4) + sin(q4)*cos(q2)*cos(q3))*dq6*cos(q6) - (-(sin(q2)*sin(q4) - cos(q2)*cos(q3)*cos(q4))*dq5*sin(q5) + (dq2*sin(q2)*cos(q3)*cos(q4) + dq2*sin(q4)*cos(q2) + dq3*sin(q3)*cos(q2)*cos(q4) + dq4*sin(q2)*cos(q4) + dq4*sin(q4)*cos(q2)*cos(q3))*cos(q5) - dq2*sin(q2)*sin(q3)*sin(q5) + dq3*sin(q5)*cos(q2)*cos(q3) + dq5*sin(q3)*cos(q2)*cos(q5))*cos(q6) + (dq2*sin(q2)*sin(q4)*cos(q3) - dq2*cos(q2)*cos(q4) + dq3*sin(q3)*sin(q4)*cos(q2) + dq4*sin(q2)*sin(q4) - dq4*cos(q2)*cos(q3)*cos(q4))*sin(q6)),
                       0]])
        return z

    def djacobi_all(self, q, dq):
        """ヤコビ行列の時間微分を全部計算する
        ・
        """
        djWo = self.djacobi_Wo(q, dq)
        djBL = self.djacobi_BL(q, dq)
        dj0 = self.djacobi_0(q, dq)
        dj1 = self.djacobi_1(q, dq)
        dj2 = self.djacobi_2(q, dq)
        dj3 = self.djacobi_3(q, dq)
        dj4 = self.djacobi_4(q, dq)
        dj5 = self.djacobi_5(q, dq)
        dj6 = self.djacobi_6(q, dq)
        dj7 = self.djacobi_7(q, dq)
        djGL = self.djacobi_GL(q, dq)
        return [djWo, djBL, dj0, dj1, dj2, dj3, dj4, dj5, dj6, dj7, djGL]

