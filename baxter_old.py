"""baxterロボットの色々関数とクラス
・順運動学写像，ヤコビ行列など
"""

import numpy as np
from math import cos, sin, tan, pi, sqrt


class BaxterKinematics3:
    """ローカル座標系の原点，ヤコビ行列等を計算
    ・ちょっとはやい
    """
    
    L = 278e-3
    h = 64e-3
    H = 1104e-3
    L0 = 270.35e-3
    L1 = 69e-3
    L2 = 364.35e-3
    L3 = 69e-3
    L4 = 374.29e-3
    L5 = 10e-3
    L6 = 368.3e-3
    
    q_min_ = [-143, -123, -173,   -3, -175,  -90, -175]
    q_max_ = [  51,   60,  173,  150,  175,  120,  175]
    q_min = [q * pi / 180 for q in q_min_]
    q_max = [q * pi / 180 for q in q_max_]
    
    def __init__(self, **kwargs):
        """"""
        return
    
    
    def update_homo_transf_mat(self, q):
        """同時変換行列を更新
        ・
        """
        q = np.ravel(q).tolist()
        
        def homo_transf_matrix(alpha, a, d, theta):
            """同次変換行列(DH記法)
            """
            return np.array([
                [cos(theta), -sin(theta), 0, a],
                [sin(theta)*cos(alpha), cos(theta)*cos(alpha), -sin(alpha), -d*sin(alpha)],
                [sin(theta)*sin(alpha), cos(theta)*sin(alpha), -cos(alpha), d*cos(alpha)],
                [0, 0, 0, 1],
                ])
        
        DH_params = [
            (0, self.L, self.H, pi/4),
            (0, 0, self.L0, 0),
            (0, 0, 0, q[0]),
            (-pi/2, self.L1, 0, q[1]+pi/2),
            (pi/2, 0, self.L2, q[2]),
            (-pi/2, self.L3, 0, q[3]),
            (pi/2, 0, self.L4, q[4]),
            (-pi/2, self.L5, 0, q[5]),
            (pi/2, 0, 0, q[6]),
        ]
        
        # 同次変換行列のリスト．0から順にT_Wo_BL, T_BL_0, T_0_1, ...
        self.T_i_j = [homo_transf_matrix(param) for param in DH_params]
        
        self.T_Wo_j = []  # 同次変換行列のリスト．0から順にT_Wo_BL, T_Wo_0, T_Wo_1, ...
        for i, T in enumerate(self.T_i_j):
            if i == 0:
                self.T_Wo_j.append(T)
            else:
                self.T_Wo_j.append(self.T_Wo_j[i-1] @ T)
        
        return
    
    
    def o(self, q):
        
    
    def origins(self, q):
        """世界座標系から見た局所座標系の原点座標をまとめて計算"""
        q = np.ravel(q).tolist()
        o_Wo = np.array([
            [0],
            [0],
            [0]
            ])
        
        o_BL = np.array([
            [self.L],
            [-self.h],
            [self.H]
            ])
        
        o_0 = np.array([
            [self.L],
            [-self.h],
            [self.H + self.L0]
            ])
        
        o_1 = np.array([
            [self.L],
            [-self.h],
            [self.H + self.L0]
            ])
        
        o_2 = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0])],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) - self.h],
            [self.H + self.L0]
            ])
        
        o_3 = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1])],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1])]
            ])
        
        o_4 = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1]) - self.L3*cos(q[1])*cos(q[2])]
            ])
        
        o_5 = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) + cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1]) - self.L3*cos(q[1])*cos(q[2]) - self.L4*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))]
            ])
        
        o_6 = np.array([
            
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) + cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4])) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1]) - self.L3*cos(q[1])*cos(q[2]) - self.L4*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2])) + self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))]
            ])
        
        o_7 = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) + cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4])) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1]) - self.L3*cos(q[1])*cos(q[2]) - self.L4*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2])) + self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))]
            ])

        o_GL = np.array([
            [self.L + cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*(cos(pi/4)*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]))],
            [cos(pi/4)*self.L1*sin(q[0]) - cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0])) + cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*(-cos(pi/4)*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) - cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5])) - self.h],
            [self.H + self.L0 - self.L2*sin(q[1]) - self.L3*cos(q[1])*cos(q[2]) - self.L4*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2])) + self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1])) + self.L6*(((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]) + (-sin(q[1])*cos(q[3]) - sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5]))]
            ])
        
        return [o_Wo, o_BL, o_0, o_1, o_2, o_3, o_4, o_5, o_6, o_7, o_GL]
    
    # ヤコビ行列
    def jacobi_Wo(self, q):
        q = np.ravel(q).tolist()
        z = np.zeros((3, 7))
        return z
    
    def jacobi_BL(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_0(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_1(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_2(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]), 0, 0, 0, 0, 0, 0], 
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]), 0, 0, 0, 0, 0, 0], 
            [0, 0, 0, 0, 0, 0, 0]
            ])
        return z
    
    def jacobi_3(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]), 0, 0, 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]), 0, 0, 0, 0, 0],
            [0, -self.L2*cos(q[1]), 0, 0, 0, 0, 0]
            ])
        return z
    
    def jacobi_4(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])), 0, 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])), 0, 0, 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]), self.L3*sin(q[2])*cos(q[1]), 0, 0, 0, 0]
            ])
        return z

    def jacobi_5(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])), 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])), 0, 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])), 0, 0, 0]
            ])
        return z

    def jacobi_6(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])), 0, 0]
            ])
        return z

    def jacobi_7(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])), 0, 0]
            ])
        return z
    
    def jacobi_GL(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]) + (cos(pi/4)*(sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*sin(q[0])*sin(q[1])*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5]) + (-cos(pi/4)*sin(q[1])*cos(q[0])*cos(q[3]) - cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2]))*cos(q[5])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4]))*sin(q[5]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3])*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[3])*cos(q[5])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + self.L6*(cos(pi/4)*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[5]) + cos(pi/4)*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[5])), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])) + self.L6*((-cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4]))*sin(q[5]) + (-cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4]))*sin(q[5])), self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*cos(q[5]) + (cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*cos(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])), 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + (-cos(pi/4)*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) - cos(pi/4)*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + (-cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*(sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) - cos(pi/4)*sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*sin(q[0])*sin(q[1])*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5]) + (cos(pi/4)*sin(q[1])*cos(q[0])*cos(q[3]) + cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2]))*cos(q[5])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])) + self.L6*((-cos(pi/4)*(sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4]))*sin(q[5]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3])*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[3])*cos(q[5])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + self.L6*(-cos(pi/4)*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (-cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[5]) + cos(pi/4)*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[5])), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4]))*sin(q[5]) + (-cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4]))*sin(q[5])), self.L6*((-cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*cos(q[5]) + (cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*cos(q[5]) - (-cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])), 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])) + self.L6*(((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4]))*sin(q[5]) + (sin(q[1])*sin(q[3])*cos(q[2]) - cos(q[1])*cos(q[3]))*cos(q[5])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])) + self.L6*((sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2]))*sin(q[5]) + sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]) + self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[5]) + (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[5])*cos(q[4])), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])) + self.L6*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4]))*sin(q[5]), self.L6*(((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))*cos(q[5]) - (-sin(q[1])*cos(q[3]) - sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[5])), 0]
            ])
        return z
    
    def jacobi_all(self, q):
        """ヤコビ行列を全部計算する
        ・
        """
        q = np.ravel(q).tolist()
        jWo = self.jacobi_Wo(q)
        jBL = self.jacobi_BL(q)
        j0 = self.jacobi_0(q)
        j1 = self.jacobi_1(q)
        j2 = self.jacobi_2(q)
        j3 = self.jacobi_3(q)
        j4 = self.jacobi_4(q)
        j5 = self.jacobi_5(q)
        j6 = self.jacobi_6(q)
        j7 = self.jacobi_7(q)
        jGL = self.jacobi_GL(q)
        return [jWo, jBL, j0, j1, j2, j3, j4, j5, j6, j7, jGL]
    
    # ヤコビ行列の時間微分
    def djacobi_Wo(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
    
    def djacobi_BL(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_0(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_1(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.zeros((3, 7))
        return z
        
    def djacobi_2(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]), 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]), 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_3(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]), 
                cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]), 
                -cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                self.L2*dq[1]*sin(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_4(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[2]) + dq[0]*sin(q[1])*cos(q[0])*cos(q[2]) + dq[1]*sin(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[2]*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[0]*sin(q[2])*cos(q[0]) - dq[1]*cos(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*cos(q[2]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[0])), 
                cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*dq[0]*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[0]*cos(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[0])*sin(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[1])*cos(q[0])*cos(q[2]) + cos(pi/4)*self.L3*dq[2]*sin(q[0])*sin(q[2])*cos(q[1]) + cos(pi/4)*self.L3*dq[2]*sin(q[2])*cos(q[0])*cos(q[1]), 
                cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*cos(q[2]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0]) + dq[1]*sin(q[0])*sin(q[2])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[2]*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[0]*cos(q[0])*cos(q[2]) + dq[1]*sin(q[2])*cos(q[0])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[2]) + dq[2]*sin(q[1])*cos(q[0])*cos(q[2])), 
                0, 
                0,
                0,
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[2]) + dq[0]*sin(q[1])*cos(q[0])*cos(q[2]) + dq[1]*sin(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[2]*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[0]*sin(q[2])*cos(q[0]) - dq[1]*cos(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*cos(q[2]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[0])), 
                -cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*dq[0]*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[0]*cos(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[0])*sin(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[1]*sin(q[1])*cos(q[0])*cos(q[2]) + cos(pi/4)*self.L3*dq[2]*sin(q[0])*sin(q[2])*cos(q[1]) - cos(pi/4)*self.L3*dq[2]*sin(q[2])*cos(q[0])*cos(q[1]), 
                cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*cos(q[2]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0]) + dq[1]*sin(q[0])*sin(q[2])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[2]*sin(q[2])*cos(q[0])) - cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[0]*cos(q[0])*cos(q[2]) + dq[1]*sin(q[2])*cos(q[0])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[2]) + dq[2]*sin(q[1])*cos(q[0])*cos(q[2])), 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]), 
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]), 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_5(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])), 
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L4*(-dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)),
                0,
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L4*(-dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                0,
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])),
                0,
                0,
                0
            ]
            ])
        return z
        
    def djacobi_6(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])),
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])),
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])),
                0,
                0
            ]
            ])
        return z
        
    def djacobi_7(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])),
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])),
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])),
                0,
                0
            ]
            ])
        return z
        
    def djacobi_GL(self, q, dq):
        q[0], q[1], q[2], q[3], q[4], q[5], q[6] = q[0, 0], q[1, 0], q[2, 0], q[3, 0], q[4, 0], q[5, 0], q[6, 0]
        dq[0], dq[1], dq[2], dq[3], dq[4], dq[5], dq[6] = dq[0, 0], dq[1, 0], dq[2, 0], dq[3, 0], dq[4, 0], dq[5, 0], dq[6, 0]
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[0]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[1]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[3]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[4]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[5]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2]) - self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[3]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[3]) + self.L6*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1]) - self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[3]) + self.L6*dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*self.L6*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[5]) + dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) + dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4])*cos(q[5]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[5]) + dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2]) - dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[5]) - dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) - dq[2]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4])*cos(q[5]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1]) - dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[3]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1])*cos(q[5]) - dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - dq[5]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - dq[5]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[5]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])),
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2]) - self.L6*dq[2]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) + self.L6*dq[2]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[4]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + self.L6*dq[4]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3]) - self.L6*dq[5]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[5]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L6*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])), cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2]) - self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) + self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[1]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[2]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[4]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2]) + self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[5]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L6*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3]) - self.L6*dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[1]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[1]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[4]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[2]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[3]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5])),
                cos(pi/4)*sqrt(2)*self.L6*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[5]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2]) - dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3]) - dq[0]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) + dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) + dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2]) + dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) - dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3]) - dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - dq[5]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + dq[5]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5])), 
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])) + self.L6*(((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4]))*dq[5]*cos(q[5]) - (sin(q[1])*sin(q[3])*cos(q[2]) - cos(q[1])*cos(q[3]))*dq[5]*sin(q[5]) - ((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4]))*sin(q[5]) + (dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1]))*cos(q[5])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])) + self.L6*((sin(q[2])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[2]))*dq[5]*cos(q[1])*cos(q[5]) - (dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4]))*sin(q[5]) - dq[1]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + dq[2]*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) + dq[3]*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[5]) - dq[5]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[1])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[5]*sin(q[5]) + (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4])*sin(q[5]) - (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[5]*cos(q[4])*cos(q[5]) + (dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[5])*cos(q[4]) - (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5])),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) - sin(q[2])*cos(q[1])*cos(q[4]))*dq[5]*cos(q[5]) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]),
                -self.L6*(((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))*dq[5]*sin(q[5]) - (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[5]*cos(q[5]) - (-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]) - dq[1]*sin(q[1])*sin(q[2])*sin(q[4]) + dq[2]*sin(q[4])*cos(q[1])*cos(q[2]) + dq[4]*sin(q[2])*cos(q[1])*cos(q[4]))*cos(q[5]) + (dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[5])),
                0
            ]
            ])
        return z

    def djacobi_all(self, q, dq):
        """ヤコビ行列の時間微分を全部計算する
        ・
        """
        djWo = self.djacobi_Wo(q, dq)
        djBL = self.djacobi_BL(q, dq)
        dj0 = self.djacobi_0(q, dq)
        dj1 = self.djacobi_1(q, dq)
        dj2 = self.djacobi_2(q, dq)
        dj3 = self.djacobi_3(q, dq)
        dj4 = self.djacobi_4(q, dq)
        dj5 = self.djacobi_5(q, dq)
        dj6 = self.djacobi_6(q, dq)
        dj7 = self.djacobi_7(q, dq)
        djGL = self.djacobi_GL(q, dq)
        return [djWo, djBL, dj0, dj1, dj2, dj3, dj4, dj5, dj6, dj7, djGL]