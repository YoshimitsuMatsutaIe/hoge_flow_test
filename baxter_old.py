"""baxterロボットの色々関数とクラス
・順運動学写像，ヤコビ行列など
"""

import numpy as np
from math import cos, sin, tan, pi, sqrt
import time

class Kinematics:
    """ローカル座標系の原点，ヤコビ行列等を計算
    ・ちょっとはやい
    """
    
    L = 278e-3
    h = 64e-3
    H = 1104e-3
    L0 = 270.35e-3
    L1 = 69e-3
    L2 = 364.35e-3
    L3 = 69e-3
    L4 = 374.29e-3
    L5 = 10e-3
    L6 = 368.3e-3
    
    q_min_ = [-143, -123, -173,   -3, -175,  -90, -175]
    q_max_ = [  51,   60,  173,  150,  175,  120,  175]
    q_min = [q * pi / 180 for q in q_min_]
    q_max = [q * pi / 180 for q in q_max_]
    
    def __init__(self, **kwargs):
        """"""
        return
    
    
    def update_homo_transf_mat(self, q):
        """同時変換行列を更新
        ・
        """
        q = np.ravel(q).tolist()
        
        def homo_transf_matrix(alpha, a, d, theta):
            """同次変換行列(DH記法)
            """
            return np.array([
                [cos(theta), -sin(theta), 0, a],
                [sin(theta)*cos(alpha), cos(theta)*cos(alpha), -sin(alpha), -d*sin(alpha)],
                [sin(theta)*sin(alpha), cos(theta)*sin(alpha), -cos(alpha), d*cos(alpha)],
                [0, 0, 0, 1],
                ])
        
        DH_params = [
            (0, 0, self.L0, 0),  # T_BL_0
            (0, 0, 0, q[0]),
            (-pi/2, self.L1, 0, q[1]+pi/2),
            (pi/2, 0, self.L2, q[2]),
            (-pi/2, self.L3, 0, q[3]),
            (pi/2, 0, self.L4, q[4]),
            (-pi/2, self.L5, 0, q[5]),
            (pi/2, 0, 0, q[6]),
        ]
        
        def T_Wo_BL():
            """これだけDHパラメータわからん"""
            return np.array([
                [cos(pi/4), sin(pi/4), 0, self.L],
                [-sin(pi/4), cos(pi/4), 0, -self.h],
                [0, 0, 1, self.H],
                [0, 0, 0, 1],
            ])
        
        # 同次変換行列のリスト．0から順にT_Wo_BL, T_BL_0, T_0_1, ...
        self.T_i_j = [T_Wo_BL()] + [homo_transf_matrix(*param) for param in DH_params]
        
        #print(self.T_i_j)
        
        self.T_Wo_j = []  # 同次変換行列のリスト．0から順にT_Wo_BL, T_Wo_0, T_Wo_1, ...
        for i, T in enumerate(self.T_i_j):
            if i == 0:
                self.T_Wo_j.append(T)
            else:
                self.T_Wo_j.append(self.T_Wo_j[i-1] @ T)
        
        #print(self.T_Wo_j)
        
        return
    
    
    def o(self,):
        """基底"""
        
        o_0 = [np.zeros((3, 1))]
        o_1_ = [T[0:3, 3:4] for T in self.T_Wo_j]
        os = o_0 + o_1_
        
        return os
    
    
    # ヤコビ行列
    def jacobi_Wo(self, q):
        q = np.ravel(q).tolist()
        z = np.zeros((3, 7))
        return z
    
    def jacobi_BL(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_0(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_1(self, q):
        z = np.zeros((3, 7))
        return z
    
    def jacobi_2(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]), 0, 0, 0, 0, 0, 0], 
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]), 0, 0, 0, 0, 0, 0], 
            [0, 0, 0, 0, 0, 0, 0]
            ])
        return z
    
    def jacobi_3(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]), 0, 0, 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]), 0, 0, 0, 0, 0],
            [0, -self.L2*cos(q[1]), 0, 0, 0, 0, 0]
            ])
        return z
    
    def jacobi_4(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])), 0, 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])), 0, 0, 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]), self.L3*sin(q[2])*cos(q[1]), 0, 0, 0, 0]
            ])
        return z

    def jacobi_5(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])), 0, 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])), 0, 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])), 0, 0, 0]
            ])
        return z

    def jacobi_6(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])), 0, 0]
            ])
        return z

    def jacobi_7(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])), 0, 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])), 0, 0]
            ])
        return z
    
    def jacobi_GL(self, q):
        z = np.array([
            [-cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) - cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) - cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) + cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) + cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]) + (cos(pi/4)*(sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*sin(q[0])*sin(q[1])*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5]) + (-cos(pi/4)*sin(q[1])*cos(q[0])*cos(q[3]) - cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2]))*cos(q[5])), cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) - cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4]))*sin(q[5]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3])*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[3])*cos(q[5])), -cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + self.L6*(cos(pi/4)*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[5]) + cos(pi/4)*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[5])), cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])) + self.L6*((-cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4]))*sin(q[5]) + (-cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4]))*sin(q[5])), self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*cos(q[5]) + (cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*cos(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])), 0],
            [cos(pi/4)*self.L1*sin(q[0]) + cos(pi/4)*self.L1*cos(q[0]) + cos(pi/4)*self.L2*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2])) - cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L4*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + sin(q[0])*cos(q[1])*cos(q[3])) + cos(pi/4)*self.L5*(((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4])) - cos(pi/4)*self.L5*(((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + (-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + (-cos(pi/4)*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) - cos(pi/4)*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[4]))*sin(q[5]) + (cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) + cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[5]) + (-cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[5])), -cos(pi/4)*self.L2*sin(q[0])*sin(q[1]) + cos(pi/4)*self.L2*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*sin(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*cos(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L4*(sin(q[0])*sin(q[1])*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[1])*cos(q[0])*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1])) - cos(pi/4)*self.L5*((sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1])) + self.L6*((cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + cos(pi/4)*sin(q[0])*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*(sin(q[1])*sin(q[3])*cos(q[0]) - cos(q[0])*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) - cos(pi/4)*sin(q[2])*sin(q[4])*cos(q[0])*cos(q[1]))*sin(q[5]) + (-cos(pi/4)*sin(q[0])*sin(q[1])*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5]) + (cos(pi/4)*sin(q[1])*cos(q[0])*cos(q[3]) + cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1])*cos(q[2]))*cos(q[5])), -cos(pi/4)*self.L3*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2])) + cos(pi/4)*self.L4*(sin(q[0])*cos(q[2]) - sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3]) - cos(pi/4)*self.L4*(-sin(q[0])*sin(q[1])*sin(q[2]) - cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*self.L5*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4])) + cos(pi/4)*self.L5*((sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + (sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4])) + self.L6*((-cos(pi/4)*(sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[3])*cos(q[4]))*sin(q[5]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[3])*cos(q[5]) + (cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[3])*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*sin(q[4]))*sin(q[5]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[3])*cos(q[5])), cos(pi/4)*self.L4*((sin(q[0])*sin(q[2]) + sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + sin(q[3])*cos(q[0])*cos(q[1])) - cos(pi/4)*self.L4*((sin(q[0])*sin(q[1])*cos(q[2]) - sin(q[2])*cos(q[0]))*cos(q[3]) + sin(q[0])*sin(q[3])*cos(q[1])) - cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + cos(pi/4)*self.L5*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*cos(q[4]) + self.L6*(-cos(pi/4)*(-(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (-cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) + cos(pi/4)*sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[5]) + cos(pi/4)*(-(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) - sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])*cos(q[4]) + (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - cos(pi/4)*sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[5])), -cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) + (-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4])) + cos(pi/4)*self.L5*(-((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + (sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4])) + self.L6*((cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*sin(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*cos(q[4]))*sin(q[5]) + (-cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*sin(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*cos(q[4]))*sin(q[5])), self.L6*((-cos(pi/4)*((-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*cos(q[3]) - sin(q[3])*cos(q[0])*cos(q[1]))*cos(q[4]) - cos(pi/4)*(-sin(q[0])*cos(q[2]) + sin(q[1])*sin(q[2])*cos(q[0]))*sin(q[4]))*cos(q[5]) + (cos(pi/4)*((-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*cos(q[3]) - sin(q[0])*sin(q[3])*cos(q[1]))*cos(q[4]) + cos(pi/4)*(sin(q[0])*sin(q[1])*sin(q[2]) + cos(q[0])*cos(q[2]))*sin(q[4]))*cos(q[5]) - (-cos(pi/4)*(-sin(q[0])*sin(q[2]) - sin(q[1])*cos(q[0])*cos(q[2]))*sin(q[3]) - cos(pi/4)*cos(q[0])*cos(q[1])*cos(q[3]))*sin(q[5]) - (cos(pi/4)*(-sin(q[0])*sin(q[1])*cos(q[2]) + sin(q[2])*cos(q[0]))*sin(q[3]) + cos(pi/4)*sin(q[0])*cos(q[1])*cos(q[3]))*sin(q[5])), 0],
            [0, -self.L2*cos(q[1]) + self.L3*sin(q[1])*cos(q[2]) - self.L4*(-sin(q[1])*sin(q[3])*cos(q[2]) + cos(q[1])*cos(q[3])) + self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4])) + self.L6*(((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4]))*sin(q[5]) + (sin(q[1])*sin(q[3])*cos(q[2]) - cos(q[1])*cos(q[3]))*cos(q[5])), self.L3*sin(q[2])*cos(q[1]) + self.L4*sin(q[2])*sin(q[3])*cos(q[1]) + self.L5*(sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2])) + self.L6*((sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[1])*cos(q[2]))*sin(q[5]) + sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5])), -self.L4*(-sin(q[1])*sin(q[3]) + cos(q[1])*cos(q[2])*cos(q[3])) + self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]) + self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[5]) + (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[5])*cos(q[4])), self.L5*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4])) + self.L6*(-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) + sin(q[2])*cos(q[1])*cos(q[4]))*sin(q[5]), self.L6*(((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))*cos(q[5]) - (-sin(q[1])*cos(q[3]) - sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[5])), 0]
            ])
        return z
    
    def jacobi_all(self, q):
        """ヤコビ行列を全部計算する
        ・
        """
        q = np.ravel(q).tolist()
        jWo = self.jacobi_Wo(q)
        jBL = self.jacobi_BL(q)
        j0 = self.jacobi_0(q)
        j1 = self.jacobi_1(q)
        j2 = self.jacobi_2(q)
        j3 = self.jacobi_3(q)
        j4 = self.jacobi_4(q)
        j5 = self.jacobi_5(q)
        j6 = self.jacobi_6(q)
        j7 = self.jacobi_7(q)
        jGL = self.jacobi_GL(q)
        return [jWo, jBL, j0, j1, j2, j3, j4, j5, j6, j7, jGL]
    
    # ヤコビ行列の時間微分
    def djacobi_Wo(self, q, dq):
        z = np.zeros((3, 7))
        return z
    
    def djacobi_BL(self, q, dq):
        z = np.zeros((3, 7))
        return z
        
    def djacobi_0(self, q, dq):
        z = np.zeros((3, 7))
        return z
        
    def djacobi_1(self, q, dq):
        z = np.zeros((3, 7))
        return z
        
    def djacobi_2(self, q, dq):
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]), 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]), 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                0, 
                0, 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_3(self, q, dq):
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]), 
                cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]), 
                -cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                self.L2*dq[1]*sin(q[1]), 
                0, 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_4(self, q, dq):
        z = np.array([
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) - cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[2]) + dq[0]*sin(q[1])*cos(q[0])*cos(q[2]) + dq[1]*sin(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[2]*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[0]*sin(q[2])*cos(q[0]) - dq[1]*cos(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*cos(q[2]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[0])), 
                cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]) + cos(pi/4)*self.L3*dq[0]*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[0]*cos(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[0])*sin(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[1])*cos(q[0])*cos(q[2]) + cos(pi/4)*self.L3*dq[2]*sin(q[0])*sin(q[2])*cos(q[1]) + cos(pi/4)*self.L3*dq[2]*sin(q[2])*cos(q[0])*cos(q[1]), 
                cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*cos(q[2]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0]) + dq[1]*sin(q[0])*sin(q[2])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[2]*sin(q[2])*cos(q[0])) + cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[0]*cos(q[0])*cos(q[2]) + dq[1]*sin(q[2])*cos(q[0])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[2]) + dq[2]*sin(q[1])*cos(q[0])*cos(q[2])), 
                0, 
                0,
                0,
                0
            ],
            [
                -cos(pi/4)*self.L1*dq[0]*sin(q[0]) + cos(pi/4)*self.L1*dq[0]*cos(q[0]) - cos(pi/4)*self.L2*dq[0]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[0]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[1]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[2]) + dq[0]*sin(q[1])*cos(q[0])*cos(q[2]) + dq[1]*sin(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[2]*cos(q[0])*cos(q[2])) + cos(pi/4)*self.L3*(dq[0]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[0]*sin(q[2])*cos(q[0]) - dq[1]*cos(q[0])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[0])*cos(q[2]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[0])), 
                -cos(pi/4)*self.L2*dq[0]*sin(q[0])*sin(q[1]) - cos(pi/4)*self.L2*dq[0]*sin(q[1])*cos(q[0]) - cos(pi/4)*self.L2*dq[1]*sin(q[0])*cos(q[1]) + cos(pi/4)*self.L2*dq[1]*cos(q[0])*cos(q[1]) - cos(pi/4)*self.L3*dq[0]*sin(q[0])*cos(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[0]*cos(q[0])*cos(q[1])*cos(q[2]) + cos(pi/4)*self.L3*dq[1]*sin(q[0])*sin(q[1])*cos(q[2]) - cos(pi/4)*self.L3*dq[1]*sin(q[1])*cos(q[0])*cos(q[2]) + cos(pi/4)*self.L3*dq[2]*sin(q[0])*sin(q[2])*cos(q[1]) - cos(pi/4)*self.L3*dq[2]*sin(q[2])*cos(q[0])*cos(q[1]), 
                cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*cos(q[2]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0]) + dq[1]*sin(q[0])*sin(q[2])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[1])*cos(q[2]) - dq[2]*sin(q[2])*cos(q[0])) - cos(pi/4)*self.L3*(-dq[0]*sin(q[0])*sin(q[1])*sin(q[2]) - dq[0]*cos(q[0])*cos(q[2]) + dq[1]*sin(q[2])*cos(q[0])*cos(q[1]) + dq[2]*sin(q[0])*sin(q[2]) + dq[2]*sin(q[1])*cos(q[0])*cos(q[2])), 
                0, 
                0, 
                0, 
                0
            ],
            [
                0, 
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]), 
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]), 
                0, 
                0, 
                0, 
                0
            ]
            ])
        return z
        
    def djacobi_5(self, q, dq):
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])), 
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L4*(-dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)),
                0,
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L4*(-dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                0,
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])),
                0,
                0,
                0
            ]
            ])
        return z
        
    def djacobi_6(self, q, dq):
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])),
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])),
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])),
                0,
                0
            ]
            ])
        return z
        
    def djacobi_7(self, q, dq):
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])),
                0,
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*self.L5*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])),
                0,
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])),
                0,
                0
            ]
            ])
        return z
        
    def djacobi_GL(self, q, dq):
        z = np.array([
            [
                cos(pi/4)*sqrt(2)*(-self.L1*dq[0]*sin(q[0] + pi/4) - self.L2*dq[0]*sin(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[1])*cos(q[0] + pi/4) + self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[0]*sin(q[2])*cos(q[0] + pi/4) - self.L3*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[0]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[1]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[3]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[4]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[5]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[1])*cos(q[0] + pi/4) - self.L2*dq[1]*sin(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2]) - self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[2]) + self.L3*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4) + self.L3*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2]) + self.L4*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) + self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3]) + self.L4*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[3]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[3]) + self.L6*dq[4]*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1]) - self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])),
                cos(pi/4)*sqrt(2)*(self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[0]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[2])*cos(q[3]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[3]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[2]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[4])*cos(q[1])*cos(q[3]) + self.L5*dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[0]*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[1])*cos(q[4]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[3]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[1])*cos(q[3]) + self.L6*dq[3]*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1])*cos(q[5]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*self.L6*(dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[5]) + dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) + dq[0]*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4])*cos(q[5]) + dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[3]) + dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[5]) + dq[1]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[2]) - dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[5]) - dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[5]) - dq[2]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) + dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4])*cos(q[5]) + dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1]) - dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[3]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1])*cos(q[5]) - dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5]) + dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[5]) + dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[5])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[1])*cos(q[4]) - dq[5]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - dq[5]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - dq[5]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - dq[5]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])),
                0
            ],
            [
                cos(pi/4)*sqrt(2)*(self.L1*dq[0]*cos(q[0] + pi/4) + self.L2*dq[0]*cos(q[0] + pi/4)*cos(q[1]) - self.L2*dq[1]*sin(q[0] + pi/4)*sin(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[0]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[1]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[2]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[2]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[4]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[4]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[0]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[0]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[0]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2]) - self.L6*dq[2]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[2]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) + self.L6*dq[2]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[3]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[4]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[4]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + self.L6*dq[4]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3]) - self.L6*dq[5]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[5]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L2*dq[0]*sin(q[0] + pi/4)*sin(q[1]) + self.L2*dq[1]*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L3*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L4*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[2]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + self.L6*dq[1]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[2]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L6*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[5]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5])), cos(pi/4)*sqrt(2)*(self.L3*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2]) + self.L3*dq[0]*cos(q[0] + pi/4)*cos(q[2]) - self.L3*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1]) - self.L3*dq[2]*sin(q[0] + pi/4)*sin(q[2]) - self.L3*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) - self.L4*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1]) - self.L4*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2]) - self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) + self.L6*dq[0]*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) + self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - self.L6*dq[1]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[2]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[2]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[3]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[4]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2]) + self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + self.L6*dq[5]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[5]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(-self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3]) - self.L4*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1]) + self.L4*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4) + self.L4*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) + self.L4*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L4*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3]) - self.L4*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3]) - self.L4*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2]) + self.L4*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*cos(q[2])*cos(q[4]) - self.L5*dq[0]*sin(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4]) - self.L5*dq[0]*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[1]*sin(q[1])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L5*dq[1]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[3])*cos(q[2])*cos(q[4]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4]) - self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[3]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[4]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[5]) - self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3])*cos(q[4]) - self.L6*dq[0]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) + self.L6*dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[5]) - self.L6*dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4]) - self.L6*dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[4]) + self.L6*dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2])*cos(q[4]) + self.L6*dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[4]) - self.L6*dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - self.L6*dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5]) + self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[4]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[4]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3]) - self.L6*dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - self.L6*dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + self.L6*dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5])),
                cos(pi/4)*sqrt(2)*(self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*cos(q[4]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*cos(q[1]) - self.L5*dq[0]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) + self.L5*dq[0]*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[1]*sin(q[2])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L5*dq[1]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[2])*cos(q[4]) - self.L5*dq[2]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2])*cos(q[3]) + self.L5*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[3]) - self.L5*dq[2]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L5*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4]) + self.L5*dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2]) - self.L5*dq[3]*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[0] + pi/4)*sin(q[4])*cos(q[2]) + self.L5*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[0] + pi/4) - self.L5*dq[4]*sin(q[1])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L5*dq[4]*sin(q[3])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[5])*cos(q[4]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[0]*sin(q[0] + pi/4)*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[1]) - self.L6*dq[0]*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) + self.L6*dq[0]*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[1]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[1]*sin(q[2])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[1]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[4]) - self.L6*dq[2]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2])*cos(q[3]) + self.L6*dq[2]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - self.L6*dq[2]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4]) + self.L6*dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*sin(q[4])*sin(q[5]) + self.L6*dq[3]*sin(q[1])*sin(q[3])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2]) - self.L6*dq[3]*sin(q[4])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[3]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + self.L6*dq[4]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - self.L6*dq[4]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - self.L6*dq[4]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) - self.L6*dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3])*cos(q[5]) + self.L6*dq[5]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - self.L6*dq[5]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - self.L6*dq[5]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5])),
                cos(pi/4)*sqrt(2)*self.L6*(dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[2])*sin(q[4])*cos(q[5]) + dq[0]*sin(q[0] + pi/4)*sin(q[1])*sin(q[3])*sin(q[5])*cos(q[2]) - dq[0]*sin(q[0] + pi/4)*sin(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[3])*cos(q[1])*cos(q[4])*cos(q[5]) - dq[0]*sin(q[0] + pi/4)*sin(q[5])*cos(q[1])*cos(q[3]) - dq[0]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) + dq[0]*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) + dq[0]*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[1]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[1]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[3]) - dq[1]*sin(q[2])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - dq[1]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[2]) + dq[1]*cos(q[0] + pi/4)*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[5]) - dq[2]*sin(q[0] + pi/4)*sin(q[3])*sin(q[5])*cos(q[2]) + dq[2]*sin(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4])*cos(q[5]) + dq[2]*sin(q[1])*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[0] + pi/4) - dq[2]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[3])*cos(q[4])*cos(q[5]) - dq[2]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3]) - dq[3]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[3]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3]) - dq[3]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1]) + dq[3]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[4])*cos(q[5]) - dq[4]*sin(q[0] + pi/4)*sin(q[2])*sin(q[4])*cos(q[3])*cos(q[5]) + dq[4]*sin(q[0] + pi/4)*cos(q[2])*cos(q[4])*cos(q[5]) - dq[4]*sin(q[1])*sin(q[2])*cos(q[0] + pi/4)*cos(q[4])*cos(q[5]) - dq[4]*sin(q[1])*sin(q[4])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[5]) - dq[4]*sin(q[3])*sin(q[4])*cos(q[0] + pi/4)*cos(q[1])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[3])*cos(q[5]) - dq[5]*sin(q[0] + pi/4)*sin(q[2])*sin(q[5])*cos(q[3])*cos(q[4]) - dq[5]*sin(q[0] + pi/4)*sin(q[4])*sin(q[5])*cos(q[2]) + dq[5]*sin(q[1])*sin(q[2])*sin(q[4])*sin(q[5])*cos(q[0] + pi/4) - dq[5]*sin(q[1])*sin(q[3])*cos(q[0] + pi/4)*cos(q[2])*cos(q[5]) - dq[5]*sin(q[1])*sin(q[5])*cos(q[0] + pi/4)*cos(q[2])*cos(q[3])*cos(q[4]) - dq[5]*sin(q[3])*sin(q[5])*cos(q[0] + pi/4)*cos(q[1])*cos(q[4]) + dq[5]*cos(q[0] + pi/4)*cos(q[1])*cos(q[3])*cos(q[5])), 
                0
            ],
            [
                0,
                self.L2*dq[1]*sin(q[1]) + self.L3*dq[1]*cos(q[1])*cos(q[2]) - self.L3*dq[2]*sin(q[1])*sin(q[2]) + self.L4*(dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])) - self.L5*((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4])) + self.L6*(((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*cos(q[4]) - sin(q[1])*sin(q[2])*sin(q[4]))*dq[5]*cos(q[5]) - (sin(q[1])*sin(q[3])*cos(q[2]) - cos(q[1])*cos(q[3]))*dq[5]*sin(q[5]) - ((sin(q[1])*cos(q[2])*cos(q[3]) + sin(q[3])*cos(q[1]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*sin(q[3]) - dq[1]*cos(q[1])*cos(q[2])*cos(q[3]) + dq[2]*sin(q[1])*sin(q[2])*cos(q[3]) + dq[3]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[3]*cos(q[1])*cos(q[3]))*cos(q[4]) + dq[1]*sin(q[2])*sin(q[4])*cos(q[1]) + dq[2]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[4]*sin(q[1])*sin(q[2])*cos(q[4]))*sin(q[5]) + (dq[1]*sin(q[1])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1])*cos(q[2]) - dq[2]*sin(q[1])*sin(q[2])*sin(q[3]) + dq[3]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1]))*cos(q[5])),
                -self.L3*dq[1]*sin(q[1])*sin(q[2]) + self.L3*dq[2]*cos(q[1])*cos(q[2]) - self.L4*dq[1]*sin(q[1])*sin(q[2])*sin(q[3]) + self.L4*dq[2]*sin(q[3])*cos(q[1])*cos(q[2]) + self.L4*dq[3]*sin(q[2])*cos(q[1])*cos(q[3]) - self.L5*(dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4])) + self.L6*((sin(q[2])*cos(q[3])*cos(q[4]) + sin(q[4])*cos(q[2]))*dq[5]*cos(q[1])*cos(q[5]) - (dq[1]*sin(q[1])*sin(q[2])*cos(q[3])*cos(q[4]) + dq[1]*sin(q[1])*sin(q[4])*cos(q[2]) + dq[2]*sin(q[2])*sin(q[4])*cos(q[1]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[3])*cos(q[4]) + dq[3]*sin(q[2])*sin(q[3])*cos(q[1])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])*cos(q[3]) - dq[4]*cos(q[1])*cos(q[2])*cos(q[4]))*sin(q[5]) - dq[1]*sin(q[1])*sin(q[2])*sin(q[3])*cos(q[5]) + dq[2]*sin(q[3])*cos(q[1])*cos(q[2])*cos(q[5]) + dq[3]*sin(q[2])*cos(q[1])*cos(q[3])*cos(q[5]) - dq[5]*sin(q[2])*sin(q[3])*sin(q[5])*cos(q[1])),
                self.L4*(dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2])) - self.L5*(sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4]) - self.L5*(dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[5]*sin(q[5]) + (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[4]*sin(q[4])*sin(q[5]) - (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[5]*cos(q[4])*cos(q[5]) + (dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[5])*cos(q[4]) - (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[5])),
                -self.L5*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1])) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[4]) - sin(q[2])*cos(q[1])*cos(q[4]))*dq[5]*cos(q[5]) - self.L6*((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*cos(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*sin(q[4]) + dq[1]*sin(q[1])*sin(q[2])*cos(q[4]) - dq[2]*cos(q[1])*cos(q[2])*cos(q[4]) + dq[4]*sin(q[2])*sin(q[4])*cos(q[1]))*sin(q[5]),
                -self.L6*(((sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*cos(q[4]) + sin(q[2])*sin(q[4])*cos(q[1]))*dq[5]*sin(q[5]) - (sin(q[1])*cos(q[3]) + sin(q[3])*cos(q[1])*cos(q[2]))*dq[5]*cos(q[5]) - (-(sin(q[1])*sin(q[3]) - cos(q[1])*cos(q[2])*cos(q[3]))*dq[4]*sin(q[4]) + (dq[1]*sin(q[1])*cos(q[2])*cos(q[3]) + dq[1]*sin(q[3])*cos(q[1]) + dq[2]*sin(q[2])*cos(q[1])*cos(q[3]) + dq[3]*sin(q[1])*cos(q[3]) + dq[3]*sin(q[3])*cos(q[1])*cos(q[2]))*cos(q[4]) - dq[1]*sin(q[1])*sin(q[2])*sin(q[4]) + dq[2]*sin(q[4])*cos(q[1])*cos(q[2]) + dq[4]*sin(q[2])*cos(q[1])*cos(q[4]))*cos(q[5]) + (dq[1]*sin(q[1])*sin(q[3])*cos(q[2]) - dq[1]*cos(q[1])*cos(q[3]) + dq[2]*sin(q[2])*sin(q[3])*cos(q[1]) + dq[3]*sin(q[1])*sin(q[3]) - dq[3]*cos(q[1])*cos(q[2])*cos(q[3]))*sin(q[5])),
                0
            ]
            ])
        return z

    def djacobi_all(self, q, dq):
        """ヤコビ行列の時間微分を全部計算する
        ・
        """
        q = np.ravel(q).tolist()
        dq = np.ravel(dq).tolist()
        
        djWo = self.djacobi_Wo(q, dq)
        djBL = self.djacobi_BL(q, dq)
        dj0 = self.djacobi_0(q, dq)
        dj1 = self.djacobi_1(q, dq)
        dj2 = self.djacobi_2(q, dq)
        dj3 = self.djacobi_3(q, dq)
        dj4 = self.djacobi_4(q, dq)
        dj5 = self.djacobi_5(q, dq)
        dj6 = self.djacobi_6(q, dq)
        dj7 = self.djacobi_7(q, dq)
        djGL = self.djacobi_GL(q, dq)
        return [djWo, djBL, dj0, dj1, dj2, dj3, dj4, dj5, dj6, dj7, djGL]


if __name__ == '__main__':
    # 原点座標のテスト
    hoge = Kinematics()
    
    q = np.array([[30, 30, 30, 30, 30, 30, 30]]).T
    dq = np.array([[30, 30, 30, 30, 30, 30, 30]]).T
    
    start = time.time()
    for i in range(1):
        hoge.update_homo_transf_mat(q)
        o_new = hoge.o()
    print(time.time() - start)
    [print(o) for o in o_new]
